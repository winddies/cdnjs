"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_reactIs=require("react-is"),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_Typography=_interopRequireDefault(require("../Typography")),_BreadcrumbCollapsed=_interopRequireDefault(require("./BreadcrumbCollapsed")),styles={root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}};function insertSeparators(a,o,s){return a.reduce(function(e,r,t){return t<a.length-1?e=e.concat(r,React.createElement("li",{"aria-hidden":!0,key:"separator-".concat(t),className:o},s)):e.push(r),e},[])}exports.styles=styles;var Breadcrumbs=React.forwardRef(function(e,r){var t,a=e.children,o=e.classes,s=e.className,l=e.component,i=void 0===l?"nav":l,n=e.expandText,p=void 0===n?"Show path":n,u=e.itemsAfterCollapse,c=void 0===u?1:u,d=e.itemsBeforeCollapse,m=void 0===d?1:d,f=e.maxItems,_=void 0===f?8:f,y=e.separator,b=void 0===y?"/":y,h=(0,_objectWithoutProperties2.default)(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),q=React.useState(!1),R=q[0],x=q[1],v=React.Children.toArray(a).filter(function(e){return"production"!==process.env.NODE_ENV&&(0,_reactIs.isFragment)(e)&&console.error(["Material-UI: the Breadcrumbs component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),React.isValidElement(e)}).map(function(e,r){return React.createElement("li",{className:o.li,key:"child-".concat(r)},e)});return React.createElement(_Typography.default,(0,_extends2.default)({ref:r,component:i,color:"textSecondary",className:(0,_clsx.default)(o.root,s)},h),React.createElement("ol",{className:o.ol},insertSeparators(R||_&&v.length<=_?v:m+c>=(t=v).length?("production"!==process.env.NODE_ENV&&console.error(["Material-UI: you have provided an invalid combination of props to the Breadcrumbs.","itemsAfterCollapse={".concat(c,"} + itemsBeforeCollapse={").concat(m,"} >= maxItems={").concat(_,"}")].join("\n")),t):[].concat((0,_toConsumableArray2.default)(t.slice(0,m)),[React.createElement(_BreadcrumbCollapsed.default,{"aria-label":p,key:"ellipsis",onClick:function(e){x(!0);var r=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");r&&r.focus()}})],(0,_toConsumableArray2.default)(t.slice(t.length-c,t.length))),o.separator,b)))});"production"!==process.env.NODE_ENV&&(Breadcrumbs.propTypes={children:_propTypes.default.node.isRequired,classes:_propTypes.default.object.isRequired,className:_propTypes.default.string,component:_propTypes.default.elementType,expandText:_propTypes.default.string,itemsAfterCollapse:_propTypes.default.number,itemsBeforeCollapse:_propTypes.default.number,maxItems:_propTypes.default.number,separator:_propTypes.default.node});var _default=(0,_withStyles.default)(styles,{name:"MuiBreadcrumbs"})(Breadcrumbs);exports.default=_default;