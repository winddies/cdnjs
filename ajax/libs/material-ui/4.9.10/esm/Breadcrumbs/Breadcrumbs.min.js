import _extends from"@babel/runtime/helpers/esm/extends";import _toConsumableArray from"@babel/runtime/helpers/esm/toConsumableArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import{isFragment}from"react-is";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import Typography from"../Typography";import BreadcrumbCollapsed from"./BreadcrumbCollapsed";export var styles={root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}};function insertSeparators(e,r,t){return e.reduce(function(o,a,s){return s<e.length-1?o=o.concat(a,React.createElement("li",{"aria-hidden":!0,key:"separator-".concat(s),className:r},t)):o.push(a),o},[])}var Breadcrumbs=React.forwardRef(function(e,r){var t=e.children,o=e.classes,a=e.className,s=e.component,n=void 0===s?"nav":s,i=e.expandText,l=void 0===i?"Show path":i,p=e.itemsAfterCollapse,c=void 0===p?1:p,m=e.itemsBeforeCollapse,d=void 0===m?1:m,u=e.maxItems,y=void 0===u?8:u,f=e.separator,h=void 0===f?"/":f,b=_objectWithoutProperties(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),x=React.useState(!1),g=x[0],T=x[1],v=React.Children.toArray(t).filter(function(e){return"production"!==process.env.NODE_ENV&&isFragment(e)&&console.error(["Material-UI: the Breadcrumbs component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),React.isValidElement(e)}).map(function(e,r){return React.createElement("li",{className:o.li,key:"child-".concat(r)},e)});return React.createElement(Typography,_extends({ref:r,component:n,color:"textSecondary",className:clsx(o.root,a)},b),React.createElement("ol",{className:o.ol},insertSeparators(g||y&&v.length<=y?v:function(e){return d+c>=e.length?("production"!==process.env.NODE_ENV&&console.error(["Material-UI: you have provided an invalid combination of props to the Breadcrumbs.","itemsAfterCollapse={".concat(c,"} + itemsBeforeCollapse={").concat(d,"} >= maxItems={").concat(y,"}")].join("\n")),e):[].concat(_toConsumableArray(e.slice(0,d)),[React.createElement(BreadcrumbCollapsed,{"aria-label":l,key:"ellipsis",onClick:function(e){T(!0);var r=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");r&&r.focus()}})],_toConsumableArray(e.slice(e.length-c,e.length)))}(v),o.separator,h)))});"production"!==process.env.NODE_ENV&&(Breadcrumbs.propTypes={children:PropTypes.node.isRequired,classes:PropTypes.object.isRequired,className:PropTypes.string,component:PropTypes.elementType,expandText:PropTypes.string,itemsAfterCollapse:PropTypes.number,itemsBeforeCollapse:PropTypes.number,maxItems:PropTypes.number,separator:PropTypes.node});export default withStyles(styles,{name:"MuiBreadcrumbs"})(Breadcrumbs);