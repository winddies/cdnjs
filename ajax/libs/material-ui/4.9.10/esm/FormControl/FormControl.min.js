import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{isFilled,isAdornedStart}from"../InputBase/utils";import withStyles from"../styles/withStyles";import capitalize from"../utils/capitalize";import isMuiElement from"../utils/isMuiElement";import FormControlContext from"./FormControlContext";export var styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};var FormControl=React.forwardRef(function(e,o){var r,t=e.children,i=e.classes,n=e.className,s=e.color,l=void 0===s?"primary":s,a=e.component,p=void 0===a?"div":a,d=e.disabled,c=void 0!==d&&d,m=e.error,u=void 0!==m&&m,f=e.fullWidth,h=void 0!==f&&f,v=e.focused,y=e.hiddenLabel,b=void 0!==y&&y,T=e.margin,P=void 0===T?"none":T,g=e.required,C=void 0!==g&&g,E=e.size,R=e.variant,x=void 0===R?"standard":R,S=_objectWithoutProperties(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),F=React.useState(function(){var e=!1;return t&&React.Children.forEach(t,function(o){if(isMuiElement(o,["Input","Select"])){var r=isMuiElement(o,["Select"])?o.props.input:o;r&&isAdornedStart(r.props)&&(e=!0)}}),e}),W=F[0],N=F[1],I=React.useState(function(){var e=!1;return t&&React.Children.forEach(t,function(o){isMuiElement(o,["Input","Select"])&&isFilled(o.props,!0)&&(e=!0)}),e}),M=I[0],O=I[1],z=React.useState(!1),B=z[0],_=z[1],j=void 0!==v?v:B;if(c&&j&&_(!1),"production"!==process.env.NODE_ENV){var q=React.useRef(!1);r=function(){return q.current&&console.error(["Material-UI: there are multiple InputBase components inside a FormControl.","This is not supported. It might cause infinite rendering loops.","Only use one InputBase."].join("\n")),q.current=!0,function(){q.current=!1}}}var w=React.useCallback(function(){O(!0)},[]),A={adornedStart:W,setAdornedStart:N,color:l,disabled:c,error:u,filled:M,focused:j,fullWidth:h,hiddenLabel:b,margin:("small"===E?"dense":void 0)||P,onBlur:function(){_(!1)},onEmpty:React.useCallback(function(){O(!1)},[]),onFilled:w,onFocus:function(){_(!0)},registerEffect:r,required:C,variant:x};return React.createElement(FormControlContext.Provider,{value:A},React.createElement(p,_extends({className:clsx(i.root,n,"none"!==P&&i["margin".concat(capitalize(P))],h&&i.fullWidth),ref:o},S),t))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:PropTypes.node,classes:PropTypes.object.isRequired,className:PropTypes.string,color:PropTypes.oneOf(["primary","secondary"]),component:PropTypes.elementType,disabled:PropTypes.bool,error:PropTypes.bool,focused:PropTypes.bool,fullWidth:PropTypes.bool,hiddenLabel:PropTypes.bool,margin:PropTypes.oneOf(["none","dense","normal"]),required:PropTypes.bool,size:PropTypes.oneOf(["small","medium"]),variant:PropTypes.oneOf(["standard","outlined","filled"])});export default withStyles(styles,{name:"MuiFormControl"})(FormControl);