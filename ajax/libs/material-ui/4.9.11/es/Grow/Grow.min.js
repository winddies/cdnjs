import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";function getScale(e){return`scale(${e}, ${e**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=React.forwardRef(function(e,t){const{children:o,in:r,onEnter:n,onExit:i,style:s,timeout:a="auto",TransitionComponent:p=Transition}=e,u=_objectWithoutPropertiesLoose(e,["children","in","onEnter","onExit","style","timeout","TransitionComponent"]),c=React.useRef(),l=React.useRef(),m=useForkRef(o.ref,t),y=useTheme();return React.useEffect(()=>()=>{clearTimeout(c.current)},[]),React.createElement(p,_extends({appear:!0,in:r,onEnter:(e,t)=>{reflow(e);const{duration:o,delay:r}=getTransitionProps({style:s,timeout:a},{mode:"enter"});let i;"auto"===a?(i=y.transitions.getAutoHeightDuration(e.clientHeight),l.current=i):i=o,e.style.transition=[y.transitions.create("opacity",{duration:i,delay:r}),y.transitions.create("transform",{duration:.666*i,delay:r})].join(","),n&&n(e,t)},onExit:e=>{const{duration:t,delay:o}=getTransitionProps({style:s,timeout:a},{mode:"exit"});let r;"auto"===a?(r=y.transitions.getAutoHeightDuration(e.clientHeight),l.current=r):r=t,e.style.transition=[y.transitions.create("opacity",{duration:r,delay:o}),y.transitions.create("transform",{duration:.666*r,delay:o||.333*r})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),i&&i(e)},addEndListener:(e,t)=>{"auto"===a&&(c.current=setTimeout(t,l.current||0))},timeout:"auto"===a?null:a},u),(e,t)=>React.cloneElement(o,_extends({style:_extends({opacity:0,transform:getScale(.75),visibility:"exited"!==e||r?void 0:"hidden"},styles[e],{},s,{},o.props.style),ref:m},t)))});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:PropTypes.element,in:PropTypes.bool,onEnter:PropTypes.func,onExit:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Grow.muiSupportAuto=!0;export default Grow;